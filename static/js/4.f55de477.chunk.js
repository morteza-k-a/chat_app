(this["webpackJsonpcra-sample"]=this["webpackJsonpcra-sample"]||[]).push([[4],{199:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var s,n=a(11),c=a(215),o=a(0),r=a.n(o),i=a(115),l=a(123),m=a(120),u=a(210),d=a.n(u),h=a(168),j=a.n(h),p=a(51),f=a(52),b=a(55),O=a(54),v=(a(199),a(200)),g=(a(208),a(218)),y=function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{style:{display:"flex",justifyContent:this.props.self?"end":"start"},children:Object(n.jsxs)(i.a,{style:{color:this.props.self?"white":"black",background:this.props.self?"#303f9f":"white"},className:"message_body",children:[Object(n.jsx)(g.a,{variant:"h6",className:"name",children:this.props.name}),Object(n.jsx)(g.a,{style:{fontFamily:'"Roboto","Vazir"'},className:"message",children:this.props.message})]})})}}]),a}(r.a.Component),x=function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(){v.animateScroll.scrollToBottom({containerId:"messagediv"})}},{key:"render",value:function(){var e=this.props.data;return Object(n.jsx)("main",{id:"messagediv",className:this.props.cls,children:e.map((function(e){return Object(n.jsx)(y,{name:e.sender,message:e.message,self:e.self})}))})}}]),a}(r.a.Component),k=a(219),N=a(221),w=function(e){var t=e.roomName;return Object(n.jsxs)("header",{className:"_head",children:[Object(n.jsx)(N.a,{className:"avatar",children:t?t.charAt(0):null}),Object(n.jsx)(g.a,{variant:"h5",children:t})]})},_=(a(209),Object(k.a)((function(e){return{footer:{height:"10%",paddingLeft:"0.5rem",display:"flex",alignItems:"center"},body:{height:"80%",overflowY:"auto"}}})));t.default=function(e){var t=_(),a=Object(o.useState)([]),r=Object(c.a)(a,2),u=r[0],h=r[1],p=function(){var t=document.getElementById("message_inp"),a=t.value;if(a){var n={message:a,sender:e.location.name,self:!0};t.value="",t.focus(),s.emit("chat message",{message:a,room:e.location.room,name:e.location.name}),h(u.concat(n))}};return Object(o.useEffect)((function(){e.location.room||e.history.push("/"),(s=j()("https://mka-chat.herokuapp.com/")).emit("subscribe",e.location.room),s.on("chat message",(function(e){var t={message:e.message,sender:e.name,self:!1};console.log("data received"),h((function(e){return e.concat(t)}))}))}),[e.location.room]),Object(n.jsxs)("div",{className:"chat_page",children:[Object(n.jsx)(w,{roomName:e.location.room}),Object(n.jsx)(x,{cls:t.body,data:u}),Object(n.jsxs)(i.a,{className:t.footer,children:[Object(n.jsx)(l.a,{onKeyPress:function(e){"Enter"===e.key&&p()},variant:"outlined",id:"message_inp",type:"text",style:{width:"calc(100% - 10px)"}}),Object(n.jsx)(m.a,{color:"primary","aria-label":"send",onClick:p,children:Object(n.jsx)(d.a,{})})]})]})}}}]);
//# sourceMappingURL=4.f55de477.chunk.js.map