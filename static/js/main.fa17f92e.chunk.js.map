{"version":3,"sources":["pages/message.js","pages/Chatbox.js","pages/chat.js","pages/join.js","App.js","index.js"],"names":["Message","style","display","justifyContent","this","props","self","Paper","color","background","className","Typography","variant","name","fontFamily","message","React","Component","Chatbox","animateScroll","scrollToBottom","containerId","msgs","data","id","map","e","sender","socket","undefined","Chat","useState","setmsgs","emt","inp","document","getElementById","txt","value","newmsgdata","location","focus","emit","room","concat","useEffect","socketIOClient","on","msg","dataToAdd","console","log","m","height","TextField","onKeyPress","key","marginTop","type","Button","margin","onClick","Join","Join_room","history","push","pathname","state","elevation","Grid","item","container","direction","onChange","setState","target","label","App","exact","path","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.fa17f92e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./message.css\"\r\nimport {Paper,Typography} from '@material-ui/core'\r\n\r\nclass Message extends React.Component{\r\n// #42a5f5,white -  #66bb6a,white - \r\n    render(){\r\n        return(<div style={{display:\"flex\",justifyContent:this.props.self?\"end\":\"start\"}}>\r\n            <Paper style={{color:this.props.self?\"white\":\"black\",background:this.props.self?\"#303f9f\":\"white\"}} className=\"message_body\">\r\n        <Typography variant=\"h6\" className=\"name\">{this.props.name}</Typography>\r\n        <Typography style={{fontFamily:\"\\\"Roboto\\\",\\\"Vazir\\\"\"}} className=\"message\">{this.props.message}</Typography>\r\n            </Paper>\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport \"./Chatbox.css\"\r\nimport {animateScroll} from \"react-scroll\";\r\nimport Message from \"./message.js\"\r\n\r\nclass Chatbox extends React.Component{\r\ncomponentDidUpdate(){\r\nanimateScroll.scrollToBottom({containerId:\"messagediv\"})\r\n}\r\n    render(){\r\n        const msgs = this.props.data;\r\n        return(<div id=\"messagediv\" className=\"_body\">\r\n          {\r\n            msgs.map(e=>{\r\n              return(\r\n               <Message name={e.sender} message={e.message} self={e.self}/>\r\n              )\r\n            })\r\n          }\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default Chatbox;","import {React,useState,useEffect} from \"react\";\r\nimport {Paper,Button,TextField} from \"@material-ui/core\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Chatbox from \"./Chatbox.js\"\r\nimport \"./chat.css\";\r\n\r\nconst ENDPOINT = \"http://192.168.1.4:3001/\";\r\n\r\nlet socket = undefined;\r\nconst Chat = props=>{\r\n//const [msgs,setmsgs] = useState([{message:\"some text\",sender:\"Elon Musk\",self:true},{message:\"some text\",sender:\"Bill Gates\",self:false}]);\r\nconst [msgs,setmsgs] = useState([]);\r\nconst emt = ()=>{\r\n  const inp = document.getElementById(\"message_inp\");\r\n  const txt = inp.value;\r\n  const newmsgdata = {message:txt,sender:props.location.name,self:true};\r\n  inp.value = \"\";\r\n  inp.focus();\r\n  // here we emit the data to server\r\n  socket.emit(\"chat message\", {\r\n    message: txt,\r\n    room: props.location.room,\r\n    name: props.location.name,\r\n  });\r\n  // re-render\r\n  setmsgs(msgs.concat(newmsgdata));\r\n}\r\n\r\nconst HandleEnter = e=>{\r\n  if(e.key===\"Enter\")\r\n\temt()\r\n}\r\n\r\nuseEffect(()=>{\r\n  socket = socketIOClient(ENDPOINT);\r\n   socket.emit(\"subscribe\", props.location.room);\r\n   socket.on(\"chat message\", (msg) => {\r\n     const dataToAdd = {message:msg.message,sender:msg.name,self:false}\r\n     console.log(\"data received\")\r\n        setmsgs(m=>m.concat(dataToAdd));\r\n      });\r\n},[props.location.room])\r\n\r\nreturn(\r\n\r\n      <div style={{ height: \"100%\" }}>\r\n        <div className=\"_head\">\r\n          <h2>{\"room : \"+props.location.room}</h2>\r\n        </div>\r\n<Chatbox data={msgs}/>        \r\n<Paper className=\"_foot\">\r\n        <div className=\"mcontainer\">\r\n <TextField onKeyPress={HandleEnter} style={{marginTop:\".5rem\"}} className=\"msg_inp\" id=\"message_inp\" type=\"text\" />\r\n          <Button style={{margin:\".5rem\"}} variant=\"contained\" color=\"primary\" className=\"send_btn\" onClick={emt}>\r\n            Send\r\n          </Button>\r\n        </div>\r\n</Paper>\r\n      </div>\r\n)\r\n}\r\n\r\nexport default Chat;","import { Component ,React} from \"react\";\r\nimport {Grid,Paper,Button,TextField} from \"@material-ui/core\";\r\nimport \"./join.css\"\r\nclass Join extends Component{\r\n\t\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {name:undefined,room:undefined}\r\n    }\r\n    Join_room = ()=>{\r\n        this.props.history.push({\r\n           pathname: \"/room\",  \r\n            room: this.state.room,\r\n            name: this.state.name\r\n          });\r\n\r\n    }\r\n    render(){\r\n        return(<div className={\"field_container\"}>\r\n            <Paper  className=\"Paper_style\" elevation={3}>\r\n                <Grid className=\"Grid_style\" item container direction={\"column\"}>\r\n                    <TextField style={{margin:\".5rem\"}} id={\"name_inp\"} value={this.state.name} onChange={e=>{this.setState({name:e.target.value,room:this.state.room})}} label={\"name\"}/>\r\n                    <TextField style={{margin:\".5rem\"}} id={\"room_inp\"} value={this.state.room}  onChange={e=>{this.setState({name:this.state.name,room:e.target.value})}} label={\"room id\"}/>\r\n                    <Button style={{margin:\"0.5rem\"}} variant=\"contained\" color=\"primary\" onClick={this.Join_room}>\r\n                        Join room\r\n                    </Button>\r\n                </Grid>\r\n        </Paper>\r\n        </div>)\r\n    }\r\n\r\n}\r\n\r\nexport default Join;\r\n\r\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Chat from \"./pages/chat\";\nimport Join from \"./pages/join\";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n<Route exact path=\"/room\" component={Chat}/>\n\n<Route component={Join} />      </Switch>\n    </BrowserRouter> \n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  \n    <App />,\n\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}